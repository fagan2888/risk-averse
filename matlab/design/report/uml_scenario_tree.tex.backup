
\begin{figure*}
\centering
\tikzexternaldisable
\tikzumlset{font=\footnotesize}
\begin{tikzpicture}
%
%
\begin{umlpackage}{marietta}       
        \umlclass[x=-2,y=-8.3]{ScenarioTree}
        {
	  -children: \primint[],
	  -ancestor: \primint[],
	  -stage: \primint[]\\
	  -leaves: \primint[],
	  -probability: \primdouble[],
	  -value: \primdouble[][]\\
	  -scenario\_index: \primint[], 
	  -data: \primstructure[]
        }
        {
	    +mapValuesToData(values: \primdouble[], data: \primstructure[])\\
	    +getIteratorNonleafNodes(): Iterator{\textless}\primint{\textgreater}\\
	    +getIteratorNodesAtStage(): Iterator{\textless}\primint{\textgreater}\\
	    +getAncestorOfNode\\
    +getAncestors()\\
    +getChildrenOfNode(nodeId: \primint)\\
    +getConditionalProbabilityOfChildren(nodeId: \primint)\\
    +getData()\\
    +getDataAtNode(nodeId: \primint)\\
    +getHorizon()\\
    +getLeaveNodes()\\
    +getNodesAtStage(stage: \primint)\\
    +getNumberOfChildren(nodeId: \primint)\\
    +getNumberOfNodes()\\
    +getNumberOfNodesAtStage(stage: \primint)\\
    +getNumberOfNonleafNodes()\\
    +getNumberOfScenarios()\\
    +getProbabilityOfNode(nodeId: \primint)\\
    +getScenarioWithID(scenId: \primint)\\
    +getSiblingsOfNode(nodeId: \primint)\\
    +getStageOfNode(nodeId: \primint)\\
    +getValueDimension()\\
    +getValueOfNode(nodeId: \primint)\\
    +setAllDataFields(fieldName: string, fieldVal)\\
    +setDataField(nodeId: \primint, fieldName: string, fieldVal)\\
    +setValueAtNode(nodeId: \primint, val: \primdouble)\\
        }
        \umlclass[x=7.5,y=-8.0]{ScenarioTreeFactory}
        {}
        {
	  {+generateTreeFromData(data: \primdouble[][][],} \\
	  {\quad ops:\primstructure): ScenarioTree}\\
	  {+generateTreeFromMarkovChain(probTrans: \primdouble[][],} \\
	  {initDistr: \primdouble[], ops: \primstructure): ScenarioTree}\\
	  {+generateTreeFromIid(probDist: \primdouble[][],}\\
	  \quad {ops: \primstructure): ScenarioTree}
        }                        
        
\end{umlpackage}
                
\umluniassoc[stereo=create, anchor2=3]{ScenarioTreeFactory}{ScenarioTree}
\umldep[stereo=friend, anchor2=-3]{ScenarioTreeFactory}{ScenarioTree}
\end{tikzpicture}

\tikzexternalenable
\caption{UML for some of the classes of package \texttt{marietta}.}
\end{figure*}